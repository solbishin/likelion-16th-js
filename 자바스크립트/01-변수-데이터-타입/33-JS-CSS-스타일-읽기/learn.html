<!DOCTYPE html>
<html lang="ko-KR">

  <head>
    <meta charset="UTF-8" />
    <title>스타일링 마스터: CSS 값 읽어오기</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/styles.css" />
    <script src="./learn.js" defer></script>
  </head>

  <body>

    <main class="prose">
      <article>
        <header>
          <h1>스타일 탐정: 요소의 CSS 값 읽어오기</h1>
          <p>때로는 스타일을 설정하는 것보다, 현재 적용된 스타일이 무엇인지 알아내는 것이 더 중요합니다. 자바스크립트에서 스타일 값을 읽는 두 가지 핵심 방법을 알아봅시다.</p>
        </header>

        <section>
          <h2>1. 인라인 스타일 읽기 (style 속성)</h2>
          <p><strong>인라인 스타일(Inline Style)</strong>이란 HTML 태그의 <code>style</code> 속성에 직접 정의된 스타일을 말합니다.</p>

          <div class="code-example">
            <pre><code>// HTML: &lt;p class="element" style="font-size: 2rem; color: #1289a7;"&gt;...&lt;/p&gt;

const element = document.querySelector('.element');

console.log(element.style.fontSize); // '2rem'
console.log(element.style.color);    // '#1289a7'</code></pre>
          </div>

          <aside class="tip-box warning">
            <h3>⚠️ 주의: 읽기 범위의 한계</h3>
            <p><code>style</code> 속성은 <strong>HTML 태그에 직접 적힌 스타일만</strong> 읽을 수 있습니다. 외부 CSS 파일이나 <code>&lt;style&gt;</code> 태그에 작성된 클래스 정보는 읽어오지 못하고 빈 문자열(<code>""</code>)을 반환합니다.</p>
          </aside>
        </section>

        <section>
          <h2>2. 계산된 스타일 읽기 (getComputedStyle)</h2>
          <p>CSS 파일에 정의된 스타일을 포함하여, 브라우저가 최종적으로 계산하여 적용한 모든 스타일을 읽으려면 <code>getComputedStyle()</code>을 사용합니다.</p>

          <div class="code-example">
            <pre><code>const element = document.querySelector('.element');
const elementStyles = getComputedStyle(element);

// 모든 CSS 속성이 담긴 객체에서 값을 추출
console.log(elementStyles.backgroundColor); // 'rgb(19, 16, 18)'
console.log(elementStyles.color);           // 'rgb(249, 248, 240)'</code></pre>
          </div>

          <aside class="tip-box info">
            <h3>💡 Tip: 색상 값의 반환 형식</h3>
            <p><code>getComputedStyle()</code>은 색상 값을 항상 <strong>RGB 또는 RGBA 형식</strong>으로 반환합니다. CSS에 <code>red</code>라고 적었어도 자바스크립트는 <code>rgb(255, 0, 0)</code>으로 읽어옵니다.</p>
          </aside>

          <aside class="tip-box warning">
            <h3>⚠️ 주의: 읽기 전용(Read-only)</h3>
            <p>이 메서드는 브라우저가 계산한 결과값을 <strong>읽기만</strong> 할 뿐, 이 메서드를 통해 값을 직접 수정할 수는 없습니다.</p>
          </aside>
        </section>

        <section>
          <h2>3. 가상 요소의 스타일 읽기</h2>
          <p><code>::before</code>나 <code>::after</code> 같은 가상 요소의 스타일은 일반적인 방법으로 접근할 수 없습니다. 이때 <code>getComputedStyle</code>의 두 번째 인자를 활용합니다.</p>

          <div class="code-example">
            <pre><code>// 두 번째 인자에 가상 요소 이름을 문자열로 전달
const pseudoStyle = getComputedStyle(element, '::before');

console.log(pseudoStyle.content); // '"[가상 요소]"'
console.log(pseudoStyle.color);   // 'rgb(255, 0, 0)'</code></pre>
          </div>
        </section>

        <section>
          <h2>4. 요약 및 비교</h2>
          <table>
            <caption>스타일 읽기 방식 비교</caption>
            <thead>
              <tr>
                <th scope="col">구분</th>
                <th scope="col">문법</th>
                <th scope="col">특징</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">인라인 스타일</th>
                <td><code>요소.style.속성</code></td>
                <td>HTML 속성값만 읽음, <strong>수정 가능</strong></td>
              </tr>
              <tr>
                <th scope="row">계산된 스타일</th>
                <td><code>getComputedStyle(요소)</code></td>
                <td>모든 적용 스타일 읽음, <strong>읽기 전용</strong></td>
              </tr>
              <tr>
                <th scope="row">단위 변환</th>
                <td>-</td>
                <td>%, em 등을 <strong>절대값(px)</strong>으로 변환하여 반환</td>
              </tr>
              <tr>
                <th scope="row">가상 요소</th>
                <td><code>getComputedStyle(요소, '::명')</code></td>
                <td>가상 요소 스타일 확인 가능, 수정 불가</td>
              </tr>
            </tbody>
          </table>
        </section>

      </article>
    </main>

  </body>

</html>