<!DOCTYPE html>
<html lang="ko-KR">

<head>
  <meta charset="UTF-8" />
  <title>ì†ì„± ì„¤ì •, ì½ê¸°, ì œê±° ì‹¤ìŠµ</title>
  <style>
    .product {
      border: 1px solid #ccc;
      padding: 1rem;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    .button {
      margin-right: 0.5rem;
    }
  </style>
</head>

<body>

  <div class="product" data-name="Red Sneakers" data-stock="3">
    ğŸ›ï¸ ì œí’ˆ: <span class="name">ë ˆë“œ ìŠ¤ë‹ˆì»¤ìŠ¤</span><br />
    ğŸ“¦ ì¬ê³ : <span class="stock">3</span>
  </div>

  <button type="button" class="button" id="read">ì†ì„± ì½ê¸°</button>
  <button type="button" class="button" id="update">ì¬ê³  ìˆ˜ì •</button>
  <button type="button" class="button" id="remove">ì†ì„± ì œê±°</button>

  <script>
    {
      // ë¬¸ì„œì—ì„œ ì œì–´í•  ìš”ì†Œ(ê°ì²´)ë¥¼ ì°¾ì•„ ë³€ìˆ˜ì— í• ë‹¹
      const readButton = document.getElementById('read')
      const updateButton = document.getElementById('update')
      const removeButton = document.getElementById('remove')
      const product = document.querySelector('.product')
      const productStock = product.querySelector('.stock')


      // 1. "ì†ì„± ì½ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆì˜ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì½ì–´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤. (`getAttribute` í™œìš©)
      readButton.addEventListener('click', () => {
        console.log('ì†ì„± ì½ê¸° : getAttribute í™œìš©')
        console.log(product.getAttribute('data-name'))  // 'Red Sneakers'
        console.log(product.getAttribute('data-stock')) // '3'
      })

      // 2. "ì†ì„± ì½ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆì˜ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì½ì–´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤. (`dataset` í™œìš©)
      readButton.addEventListener('click', () => {
        console.log('ì†ì„± ì½ê¸° : dataset í™œìš©')
        console.log(product.dataset.name)  // 'Red Sneakers'
        console.log(product.dataset.stock) // '3'
      })

      // 3. "ì¬ê³  ìˆ˜ì •" ë²„íŠ¼ í´ë¦­ ì‹œ, í˜„ì¬ ì¬ê³  ê°’ì— 2ë¥¼ ë”í•œ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ê³  "ğŸ“¦Â ì¬ê³ : 5"ë¡œ í™”ë©´ì— ë°˜ì˜í•©ë‹ˆë‹¤.
      updateButton.addEventListener('click', () => {
        console.log('ì¬ê³  ìˆ˜ì •')
        const currentStock = Number(product.dataset.stock)
        // console.log(currentStock, typeof currentStock)
        const nextStock = currentStock + 2
        // console.log(nextStock)
        // productStock.textContent = String(nextStock)
        // productStock.textContent = nextStock.toString()
        // productStock.textContent = nextStock + ''
        productStock.textContent = nextStock

        // ìƒí’ˆì˜ ì¬ê³  ë°ì´í„°(data-stock) ì •ë³´ ì—…ë°ì´íŠ¸
        // ì´ìœ : ë‹¤ìŒ ì—°ì‚°(ê³„ì‚°)ì„ ìœ„í•´
        product.dataset.stock = nextStock
      })

      // 4. "ì†ì„± ì œê±°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆ `data-stock` ì†ì„±ì„ ì œê±°í•˜ê³ , "ğŸ“¦Â ì¬ê³ : ì—†ìŒ"ìœ¼ë¡œ í™”ë©´ì— ë°˜ì˜í•©ë‹ˆë‹¤.
      removeButton.addEventListener('click', () => {
        console.log('ì†ì„± ì œê±°')
        // 1. ì œí’ˆ `data-stock` ì†ì„±ì„ ì œê±°
        delete product.dataset.stock
        // 2. "ğŸ“¦Â ì¬ê³ : ì—†ìŒ"ìœ¼ë¡œ í™”ë©´ ì—…ë°ì´íŠ¸
        productStock.textContent = 'ì—†ìŒ'
      })

    }
  </script>

</body>

</html>