<!doctype html>
<html lang="ko-KR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>이벤트 리스너</title>
</head>

<body>
  <section>
    <h2>요즘 이벤트 모델</h2>
    <input type="button" value="click me" />
    <script>
      // 문서 요소(객체) 선택(CSS 선택자 활용)
      const clickMeButton = document.querySelector('input[type="button"]')
      console.log(clickMeButton)

      // 1.요즘 이벤트 모델: addEventListener
      // 문서 객체(요소), addEventListener('이벤트 타입', 리스너_또는_핸들러)
      clickMeButton.addEventListener('click', (/* event */) => {
        const mood = window.prompt('당신의 기분을 알려주세요', '맑음')

        if (mood !== null) {
          console.log('그렇군요! 당신의 오늘 기분은 ' + mood + '이군요!')
        }

      })
      // 여러 이벤트 리스너 연결 (많은 이벤트 리스너 연결 기능)
      clickMeButton.addEventListener('click', () => console.log('나 함수야~'))
      clickMeButton.addEventListener('click', () => console.log('나도 함수야~'))
      clickMeButton.addEventListener('click', () => console.log('그래? 야 나두~'))
    </script>
  </section>
  <section>
    <h2>옛날 이벤트 모델</h2>
    <button type="button" onclick="handleHello()">클릭 미!</button>
    <button type="button" onclick="handleGreet()">무드</button>
    <p>
      이벤트 속성에 중복된 함수값은 덮어써져요!
      <button id="verificationButton" type="button">확인</button>
    </p>
    <script>
      // 옛날 이벤트 모델에서는 동일한 이벤트 속성에
      // 함수 값이 여러 번 설정되면 마지막에 설정된 함수만 실행됩니다.
      // 원리: 변수는 단 하나의 값만 기억한다는 사실!
      // 객체, 속성 = 단 하나의 값만 기억 가능
      // verificationButton.onclick = null
      verificationButton.onclick = function () {
        console.log('안녕! 나 함수야~')
      }
      verificationButton.onclick = function () {
        console.log('그래? 나도 함수야!~')
        // 1번만 작동(once)하는 이벤트
        // 결과를 출력했으니 이제 이벤트(사건)를 그만 청취(리스닝)할래~
        verificationButton.onclick = null
      }
    </script>
    <script>
      // 2. 옛날 모델: oneclick, onclick, ...
      // 전역에서 접근 가능한 함수 선언 또는 표현식으로 작성
      //  onclick="window.alert('hello')"
      function handleHello() {
        window.alert('헬로우~!')
      }
      function handleGreet() {
        const mood = window.prompt('오늘 기분 어때요?', '행복해요')
        if (mood !== null) {
          console.log('와우! 오늘 기분이 "' + mood + '" 하군요?')
        }
      }

    </script>
  </section>

</body>

</html>